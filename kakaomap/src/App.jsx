import React, { useState, useEffect } from "react";
import { Map, Polygon } from "react-kakao-maps-sdk";
import "./App.css";

export default function App() {
  const [mapCenter] = useState({ lat: 37.566826, lng: 126.9786567 });
  const [isMouseOver, setIsMouseOver] = useState(false);
  const [count, setCount] = useState(0);

  const handlePolygonClick = () => {
    setCount(count + 1);
  };

  useEffect(() => {
    console.log(`다각형이 ${count}번 클릭되었습니다.`);
  }, [count]);

  return (
    <div className="mapWrapper">
      <Map className="map" center={mapCenter} level={8} draggable>
        {/* 성공회대학교 다각형(폴리곤) */}
        <Polygon
          path={[
            { lat: 37.48810143111946, lng: 126.82452978219033 },
            { lat: 37.48695810335867, lng: 126.8251713008845 },
            { lat: 37.486670200045545, lng: 126.82545464527402 },
            { lat: 37.48637306909926, lng: 126.8255910192975 },
            { lat: 37.48648143982792, lng: 126.82576037101748 },
            { lat: 37.486591139557376, lng: 126.82683427430024 },
            { lat: 37.48673551555281, lng: 126.82698093138627 },
            { lat: 37.48729418769895, lng: 126.82701356403113 },
            { lat: 37.48802325474698, lng: 126.82650306144517 },
            { lat: 37.48835113956948, lng: 126.82583517879134 },
            { lat: 37.48856577528182, lng: 126.82474918693414 },
          ]}
          strokeWeight={2} // 선의 두께입니다
          strokeColor={"#000000"} // 선의 색깔입니다
          strokeOpacity={0.8} // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
          fillColor={isMouseOver ? "#ff4000" : "#ffac13"} // 채우기 색깔입니다
          fillOpacity={isMouseOver ? 0.8 : 0.5} // 채우기 불투명도 입니다
          onMouseover={() => setIsMouseOver(true)}
          onMouseout={() => setIsMouseOver(false)}
          onMousedown={() => {
            handlePolygonClick();
          }}
        />
        {/* 오류 2동 다각형(폴리곤) */}
        {/* <Polygon
          path={[
            { lng: 126.8481420307691, lat: 37.490459364147455 },
            { lng: 126.84790285183323, lat: 37.490357601917005 },
            { lng: 126.84761967893321, lat: 37.490236796752122 },
            { lng: 126.84717733436264, lat: 37.489840148341493 },
            { lng: 126.84636931083685, lat: 37.489104295717176 },
            { lng: 126.84503023734308, lat: 37.487118535637329 },
            { lng: 126.84465549409322, lat: 37.486525944925461 },
            { lng: 126.84580751260133, lat: 37.485508166818001 },
            { lng: 126.84758609313057, lat: 37.484625098456156 },
            { lng: 126.84966607726643, lat: 37.483952100584389 },
            { lng: 126.84986536351109, lat: 37.483877709001803 },
            { lng: 126.84826960241006, lat: 37.482356895713785 },
            { lng: 126.84648396021252, lat: 37.481704817371138 },
            { lng: 126.84603421118605, lat: 37.479695688929624 },
            { lng: 126.84594463458899, lat: 37.478212464941222 },
            { lng: 126.8459415479134, lat: 37.478161747558715 },
            { lng: 126.84588988179453, lat: 37.477439251110198 },
            { lng: 126.84581619181141, lat: 37.476566781473998 },
            { lng: 126.84555053751821, lat: 37.474529350396665 },
            { lng: 126.84554226880748, lat: 37.474341075500789 },
            { lng: 126.84553928642792, lat: 37.474273514128654 },
            { lng: 126.8454879841172, lat: 37.474080604942735 },
            { lng: 126.84532782726085, lat: 37.473803677626215 },
            { lng: 126.84504407043791, lat: 37.473839285968204 },
            { lng: 126.84461852666468, lat: 37.473929180961022 },
            { lng: 126.84418398752338, lat: 37.474024901323524 },
            { lng: 126.84360670014475, lat: 37.474429421898897 },
            { lng: 126.84356271741834, lat: 37.474547642647082 },
            { lng: 126.84346818551482, lat: 37.47469213282303 },
            { lng: 126.8432782412132, lat: 37.474826607683632 },
            { lng: 126.84291288652724, lat: 37.47489781242168 },
            { lng: 126.84277767867114, lat: 37.474920720990141 },
            { lng: 126.84270835775176, lat: 37.474927094641693 },
            { lng: 126.84258185283012, lat: 37.474924138346033 },
            { lng: 126.84243864257529, lat: 37.474892920703653 },
            { lng: 126.84239604191659, lat: 37.474874593419322 },
            { lng: 126.84236754530667, lat: 37.474858724198477 },
            { lng: 126.84227808237756, lat: 37.474824425417737 },
            { lng: 126.842168814397, lat: 37.474800056498729 },
            { lng: 126.84206420001833, lat: 37.474790560510662 },
            { lng: 126.84196781721693, lat: 37.474819316906718 },
            { lng: 126.84186739106431, lat: 37.474825518631647 },
            { lng: 126.84174396207627, lat: 37.474795536122301 },
            { lng: 126.84141074443781, lat: 37.474707303317857 },
            { lng: 126.84100759715452, lat: 37.474615663641075 },
            { lng: 126.84084560405556, lat: 37.474629411563384 },
            { lng: 126.84012930508122, lat: 37.474740336111275 },
            { lng: 126.83999671162559, lat: 37.474788043354401 },
            { lng: 126.83977574767859, lat: 37.474997500552114 },
            { lng: 126.83973606522157, lat: 37.475052476874531 },
            { lng: 126.83884142681171, lat: 37.475464359705313 },
            { lng: 126.83847816641088, lat: 37.475376697749581 },
            { lng: 126.83733097659199, lat: 37.475133664612883 },
            { lng: 126.83713132647816, lat: 37.475099410010628 },
            { lng: 126.83690327612842, lat: 37.475060283407728 },
            { lng: 126.83684962822558, lat: 37.475052094563416 },
            { lng: 126.83579250154635, lat: 37.475256849186259 },
            { lng: 126.83340851770019, lat: 37.476904168890684 },
            { lng: 126.8317936893084, lat: 37.477574560161877 },
            { lng: 126.82964634139412, lat: 37.476693580340537 },
            { lng: 126.82928065269692, lat: 37.476247607044911 },
            { lng: 126.82876030899904, lat: 37.476100435416399 },
            { lng: 126.82196187862003, lat: 37.475541085544549 },
            { lng: 126.81971384719063, lat: 37.47798660546205 },
            { lng: 126.81956781010039, lat: 37.480276346374374 },
            { lng: 126.81942332516381, lat: 37.483963740541597 },
            { lng: 126.81938920967947, lat: 37.485369987191014 },
            { lng: 126.819433860404, lat: 37.485470081790972 },
            { lng: 126.81950812283073, lat: 37.485557928106068 },
            { lng: 126.82036760906821, lat: 37.485879458385774 },
            { lng: 126.82119224728449, lat: 37.486154605028723 },
            { lng: 126.82126413832736, lat: 37.486178678565359 },
            { lng: 126.82129609074386, lat: 37.486190120019117 },
            { lng: 126.82232800406587, lat: 37.486736863096759 },
            { lng: 126.82318569862211, lat: 37.487502296595522 },
            { lng: 126.82333329535585, lat: 37.488217575347882 },
            { lng: 126.82317211976195, lat: 37.48854894900699 },
            { lng: 126.8238570835715, lat: 37.488782679907246 },
            { lng: 126.82405160959354, lat: 37.48884914198792 },
            { lng: 126.82498724436512, lat: 37.489556058009256 },
            { lng: 126.82640962628035, lat: 37.490631512382208 },
            { lng: 126.82702374292715, lat: 37.491211877465908 },
            { lng: 126.82684515392656, lat: 37.491259307640135 },
            { lng: 126.82681202678525, lat: 37.492272012788241 },
            { lng: 126.82678572746286, lat: 37.493154060704768 },
            { lng: 126.82693604697144, lat: 37.493206744942086 },
            { lng: 126.83156420994048, lat: 37.493220629308475 },
            { lng: 126.83223551118158, lat: 37.493222171508044 },
            { lng: 126.83250069491979, lat: 37.493210420308181 },
            { lng: 126.83250125562837, lat: 37.493073823624066 },
            { lng: 126.83314886900064, lat: 37.493075227682979 },
            { lng: 126.83335978046917, lat: 37.493075823160481 },
            { lng: 126.83434935067729, lat: 37.493078618020583 },
            { lng: 126.83438469967118, lat: 37.493078817194871 },
            { lng: 126.83589616311163, lat: 37.493094084696828 },
            { lng: 126.83643617644428, lat: 37.493110639462046 },
            { lng: 126.83807882160706, lat: 37.493162668991232 },
            { lng: 126.83980698452716, lat: 37.493378523686552 },
            { lng: 126.8441106593949, lat: 37.493776557426273 },
            { lng: 126.84434773456046, lat: 37.493831954574695 },
            { lng: 126.84507084894774, lat: 37.49401398274528 },
            { lng: 126.84555252134003, lat: 37.49439747342128 },
            { lng: 126.8477848808612, lat: 37.495015978700899 },
            { lng: 126.84861953566562, lat: 37.495213233504103 },
            { lng: 126.84828538795824, lat: 37.493885290477301 },
            { lng: 126.8481420307691, lat: 37.490459364147455 },
          ]}
          strokeWeight={2} // 선의 두께입니다
          strokeColor={"#000000"} // 선의 색깔입니다
          strokeOpacity={0.8} // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
          fillColor={"#775cf1"} // 채우기 색깔입니다
          fillOpacity={0.5} // 채우기 불투명도 입니다
        /> */}
      </Map>
    </div>
  );
}
